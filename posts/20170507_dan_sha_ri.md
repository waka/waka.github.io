# slackとshellとeditorとtwitter

最近、業務時間中見ている時間が長いのが掲題の4つなので使い方を見直した。どう見ても日記です。

## slack

STARREDなchannelを10個に減らした。見なきゃいけないのが1つ増えたらどこか1つ減らして10個以上にしないルールにしている。
STARRED以外のチャンネルについても10個を除いてすべてmute（たまにメンションされるもの）かleaveするというルールにした。
業務関係ないゆるふわなchannelは自分自身が活用している1つを除いて全部leave。
この運用にしてからは通知が減ったため、slackを見てしまう時間が減ってよい感じ。
とはいえ、コミュニケーション系の部屋でメンションを飛ばされる、そしてそのやりとりが続くと時間が吸い取られ疲弊するのなんとかしたい。
そして、スレッドはやりとりがブラックボックスにしかならないのでやめような。

## shell

zshのスクリプトメンテするのめんどくなってきたし、そもそも自分はzshのこと全然よくわかってなかったことに気づいたのでfishに乗り換えた。
[fisherman](https://fisherman.github.io/)便利。これまでzshでやってたことはほぼプラグインでインストールできたのでもうスクリプト書かなくてよくなった。
ついでにpecoからfzfに乗り換え。
デフォルトでいい感じに補完が効くし表示もよい。今の開発環境では特に問題も起きてないのでもうこれでいいやという気持ち。

入れたプラグイン

- z
- ghq
- fzf
- git_util

zshの方が便利だなーと思ったのはエイリアスの機能。
普段仕事で触ってるgitリポジトリが大きいのでブランチ補完が遅く、`B` とか打つとpecoでgit branchの結果をフィルタするエイリアスにしてた。
fishだとできないので、こんな感じでコマンド作ってお茶を濁した。

```
alias gc "git branch | fzf | xargs git checkout"
alias gd "git branch | fzf | xargs git branch -D"
alias gp "git branch | fzf | xargs git push origin"
```

## editor

vimからVSCodeに乗り換えた（何年かぶり何回目）。
これもfishと同じでなるべく自分で設定するのはもうやめようという気持ちから。nvimになってもろもろプラグインが新しくなったり開発も活発だったりしていてvimrcメンテするの疲れてしまった。
VSCodeは統合環境ぽさがあって、プラグイン入れたらほとんど設定せずにいい感じに使えるのが素敵。変える場合もJSONで設定ファイル弄れるのがよい。

入れたプラグイン

- Ruby
- Golang
- Vim
- Dracura

さすがMSというか、ファイル検索が本当に早い。大きなリポジトリでも適当なワードでサクサク検索できる。
統合ターミナルも便利。これでiTerm2をアプリとして立ち上げる場面が激減した。SSHログインするときくらいしかもうiTerm2起動してない。立ち上げるアプリを減らせてよかった。

## twitter

なんだかんだ仕事中開いてちょくちょく見ちゃう。そしてその際にターミナルからアプリを切り替えることで集中が切れてしまうのなんとかしたかった。
ので、VSCodeの統合ターミナル上で見れるように[CUIアプリとして動くtwitterクライアント](https://github.com/waka/twg-go)作った。
GWだしGolangで何か書いてみたかったのもある。

TweetDeckみたいに複数TLを見たければtmuxでペイン分割して起動すればいい。欲しかったので自動読み込みもつけた。
<img src="/assets/images/vscode_01.png" />

全然関係ないけど、CUIアプリはWebアプリのUI(HTML)と違って子コンポーネントからrenderしていって、最後に全描画内容をflushするのが面白い。
最初同じUI設計だしfluxぽくやるかと始めたら全然相性よくなくて止めた。素直にイベントリスナー使うようにした。
描画周りはpecoで使われていた[termbox-go](https://github.com/nsf/termbox-go)を使った。めんどくさいエスケープシーケンスやカラーリング周りを上手く抽象化してくれていて簡単に書けて便利。
